"use strict";(self.webpackChunktrinity_validator=self.webpackChunktrinity_validator||[]).push([[1343],{2987:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var n=a(7294),i=a(7961);function o(){const[t,e]=(0,n.useState)(!0),a=n.useRef(null);return(0,n.useEffect)((()=>{!async function(){try{const t="https://proxy.quokkastake.io/raw?url=https://api.sentinel.quokkastake.io/cosmos",n="sentvaloper1mcwvu4vpvfcnxduzpelehmgga282wtc0xux7se",i="sentvalcons1zcgc4klfqgk2x942j6k5agszlnmrd2pt52p5us",[o,s,r,l]=await Promise.all([fetch(t+"/slashing/v1beta1/signing_infos/"+i),fetch(t+"/staking/v1beta1/validators/"+n),fetch(t+"/staking/v1beta1/validators/"+n+"/delegations?pagination.count_total=true&pagination.limit=1"),fetch(t+"/staking/v1beta1/validators?status=BOND_STATUS_BONDED")]),c=await o.json(),d=await s.json(),p=await r.json(),u={...await l.json()},m=u.validators.find((t=>t.operator_address===n));u.validators.sort(((t,e)=>Number(e.tokens)-Number(t.tokens)));const g=u.validators.findIndex((t=>t.operator_address===m.operator_address)),f=parseFloat(d.validator.tokens)/1e12,h=parseInt(c.val_signing_info.missed_blocks_counter),v=100*parseFloat(d.validator.commission.commission_rates.rate),k=parseInt(p.pagination.total),_=parseFloat((1e4-h)/1e4*100),E=`${f.toFixed(2)}m`,x=h.toString(),C=`${v.toFixed(2)}%`,w=`${_.toFixed(2)}%`,T=document.createElement("h1");T.innerHTML="Validator Details";const b=document.createElement("p");b.innerHTML=`Rank: ${g+1} / 80`;const y=document.createElement("p");y.innerHTML=`Delegation: ${E}`;const $=document.createElement("p");$.innerHTML=`Commission: ${C}`;const D=document.createElement("p");D.innerHTML=`Delegators: ${k}`;const L=document.createElement("p");L.innerHTML=`Missed Blocks: ${x}`;const M=document.createElement("p");M.innerHTML=`Uptime: ${w}`;const H=a.current;H.appendChild(T),H.appendChild(b),H.appendChild(y),H.appendChild($),H.appendChild(D),H.appendChild(L),H.appendChild(M),e(!1)}catch(t){console.error("Error fetching data:",t),e(!1)}}()}),[]),n.createElement(i.Z,{title:"Stats",description:"Trinity Validator Stat Page"},n.createElement("div",{id:"validator-stats",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"20px"},ref:a},t?n.createElement("p",null,"Loading Validator Details... \u231b\ufe0f"):null))}}}]);